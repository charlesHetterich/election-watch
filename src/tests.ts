import { dot } from "@polkadot-api/descriptors";
import { createClient } from "polkadot-api";
import { getSmProvider } from "polkadot-api/sm-provider";
import { chainSpec } from "polkadot-api/chains/polkadot"; // Can select other chains (kusama, westend, etc. here)
import { start } from "polkadot-api/smoldot";

// TODO! How to properly mock with PAPI?
function mockClient() {}

async function main() {
    const smoldot = start();
    const chain = await smoldot.addChain({ chainSpec });
    const client = createClient(getSmProvider(chain));
    const papi = client.getTypedApi(dot);

    papi.event.ElectionProviderMultiPhase.PhaseTransitioned.watch();
}

main().catch((error) => console.error("Error:", error));
